{% extends 'index.html' %}
{% block title %}
선생님 업무 관리 페이지
{% endblock %}

{% block style %}
<link rel="stylesheet" href="../static/style/teacher.css">
{% endblock %}
{% with messages = get_flashed_messages() %}
{% if messages %}
<script> alert("{{ messages[-1] }}")</script>
{% endif %}
{% endwith %}
{% block content %}
{% autoescape off %}
<script type="text/javascript">
    var csrf_token = "{{ csrf_token() }}";

    $.ajaxSetup({
        beforeSend: function (xhr, settings) {
            if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {
                xhr.setRequestHeader("X-CSRFToken", csrf_token);
            }
        }
    });
</script>
<script type="text/javascript">
    axios.defaults.headers.common["X-CSRFToken"] = "{{ csrf_token() }}";
</script>

<!-- 본원에 문의 남기기 -->
<div class="modal fade" id="question" tabindex="-1" aria-labelledby="questionModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl modal-handling">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="questionModalLabel">
                    <img src="https://purpleacademy.net/free_project/public/image/head-office-question-btn.png"
                        style="width: 30px;">&nbsp;&nbsp;본원에 문의 남기기
                </h5>
                <button type="button" class="btn btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body py-4 px-5">
                <div enctype="multipart/form-data">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" style="display: block;" />
                    <div class="modal-body-select-container" >
                        <div class="modal-body-select-label" style="width:fit-content;"><span class="modal-body-select-container-span" style="padding:6px 12px;">문의 종류</span></div>
                        <select id="question_kind" class="modal-body-select w-50 m-3" name="question_category"
                            onchange="change_question_kind(this.value)">
                            <option value="none" selected>문의 종류를 선택해주세요</option>
                            <option value=3>일반 문의</option>
                            <option value=5>내근티처 문의</option>
                            <option value=4>기술지원 문의</option>
                            <option value=2>이반 승인 요청</option>
                            <option value=1>퇴소 승인 요청</option>
                        </select>
                    </div>
                    
                    <div id="question_topurple">
                        <div class="modal-body-select-container" >
                            <div class="modal-body-select-label" style="width:fit-content;"><span class="modal-body-select-container-span" style="padding:6px 12px;">대상 반</span></div>
                            <select id="my_ban_list" class="modal-body-select w-50 m-3" name="ban_id" onchange="get_ban_student(this.value)">
                            </select>
                            <p class="error_msg_alert" id="error_msg_bansel"> 🔻 대상 반 선택은 필수 입니다 </p>
                        </div>
                        <div class="modal-body-select-container" id="question_box">
    
                        </div>
                        <div class="modal-body-select-label" style="width:fit-content;"><span class="modal-body-select-container-span" style="padding:6px 12px;">문의 제목</span></div>
                        <input class="modal-body-select w-100 m-3" type="text" id="question_title" placeholder="상담의 구분이 가능한 제목을 입력해주세요">
                        <div class="modal-body-select-label" style="width:fit-content;"><span class="modal-body-select-container-span" style="padding:6px 12px;">문의 내용</span></div>
                        <textarea class="modal-body-select w-100 m-3" type="text" rows="5" cols="25" id="question_contents" placeholder="문의 내용을 작성해 주세요"></textarea>        
                        <div class="modal-body-select-container"style="display:none">
                            <span class="modal-body-select-label" >선생님 핸드폰 번호</span>
                            <input class="modal-body-select modal-body-select-100" type="text" 
                                    id="teacher_mobileno" value="{{ user['mobileno'] }}" placeholder="{{user['mobileno'] }}">
                            <input class="modal-body-select modal-body-select-100" type="text" 
                            id="teacher_name" value="{{ user['name'] }}" placeholder="{{user['name'] }}">
                            <input class="modal-body-select modal-body-select-100" type="text" 
                            id="teacher_engname" value="{{ user['eng_name'] }}" placeholder="{{user['eng_name'] }}">
                        </div>
                        <div class="modal-body-select-label" style="width:fit-content;"><span class="modal-body-select-container-span" style="padding:6px 12px;">첨부 파일 </br> (최대갯수 : 3)</span></div>
                        <input class="modal-body-select w-100 m-3" type="file" id="file-upload" multiple>
                        <p class="error_msg_alert" id="error_msg_filesel"> 🔻 파일 최대 업로드 갯수 3개 </p>
                        <div class="d-flex justify-content-center mt-4 mb-2">
                            <button class="btn btn-success" onclick="question_save()">저장</button>
                            <!-- <button type="button" class="btn btn-danger" data-bs-dismiss="modal" style="margin-top: 13px;">취소</button> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 문의 답변, 문의 조회 -->
<div class="modal fade" id="question_list" tabindex="-1" aria-labelledby="questionListModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl modal-handling">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="questionListModalLabel">
                    <img src="https://purpleacademy.net/free_project/public/image/answer-a-question.png"
                        style="width: 30px; margin-bottom: 2px;">&nbsp;&nbsp;문의 답변 확인
                </h5>
                <button type="button" class="btn btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body by-4 px-5">
                <div class="loader loader--style2 text-center Tinloading" title="1">
                    <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
                        <path fill="#000" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z">
                            <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"/>
                        </path>
                    </svg>
                </div>
                <h3 class="h_title" id="q_title_msg">문의 내역이 없습니다! 😂</h3>
                <div id="questiondetail" style="width:100%;">
                    <div id="questiondetail_box" class="responsive-table-wrapper">
                        <table class="table text-center responsive-table" id="consulting_history_attach">
                            <thead>
                                <tr class="row">
                                    <th class="col-12">진행한 상담 내용</th>
                                </tr>
                            </thead>
                            <tbody style="width:100%;">
                                <tr class="row">
                                    <td class="col-12">
                                        <div id="cha"></div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table text-center responsive-table">
                            <thead>
                                <tr class="row">
                                    <th class="col-6">문의 내용</th>
                                    <th class="col-6">답변 내용</th>
                                </tr>
                            </thead>
                            <tbody style="width:100%;">
                                <tr class="row">
                                    <td class="col-6">
                                        <div id="teacher_question"></div>
                                    </td>
                                    <td class="col-6">
                                        <div id="teacher_answer"></div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="d-flex justify-content-center">
                            <button class="btn btn-danger" onclick="get_question_list()">목록</button>
                        </div>
                    </div>
                    <!-- <div id="comment_box">
                        <div class="notice_message">
                            <p>👇Comment </p>
                            <div id="comment_post_box">

                            </div>
                            <div id="comments">

                            </div>
                        </div>
                    </div> -->
                </div>
                <!-- 문의 답변 클릭 시 초기화면 -->
                <div class="responsive-table-wrapper t_notinloading">
                    <table class="table text-center responsive-table" id="questionlist">
                        <tbody style="width:100%;">
                            <tr class="row">
                                <th class="col-2">종류</th>
                                <th class="col-4">제목</th>
                                <th class="col-3">답변</th>
                                <th class="col-2">작성일</th>
                                <th class="col-1">상세보기</th>
                            </tr>
                            <tr class="row" id="teacher_question_list">

                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="d-flex justify-content-center align-items-center w-100">
                    <div id="question_pagination" class="pt-4 pb-3"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 지난 상담 조회 상담 일지 조회 -->
<div class="modal fade" id="consulting_history_list" tabindex="-1" aria-labelledby="consultingListModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="consultingListModalLabel">
                    <img src="https://purpleacademy.net/free_project/public/image/answer-a-question.png"
                        style="width: 30px; margin-bottom: 2px;">&nbsp;&nbsp;상담기록 확인
                </h5>
                <button type="button" class="btn btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <h3 class="h_title" id="h_title_msg">상담진행 내역이 없습니다! 😂</h3>
                <div id="consulting_history_box">
                    <div class="my-4 d-flex flex-wrap justify-content-end align-items-center" id="consulting_history_bansel_box">
                        <div class="col-lg-2 col-md-3 col-sm-4 col-12 pb-3 pb-sm-0"><span>📌 상담 카테고리 선택</span></div>
                        <div class="col-md-4 col-sm-6 col-12">
                            <select id="history_cate" class="form-select form-select w-100" aria-label="Default select example">
    
                            </select>
                        </div>
                        <div class="col-lg-2 col-md-3 col-sm-4 col-12 pb-3 pb-sm-0" style="margin-left:50%;margin-top: 10px;"><span>📌 원생 / 반 검색</span></div>
                        <div class="col-md-4 col-sm-6 col-12">
                            <input type="text" id="consulting_list_search_input" placeholder="원생 이름 혹은 원번, 반 이름으로 검색" style="width:100%;height:2em;margin-top:10px;">
                        </div>
                    </div>
                    <div class="d-flex justify-content-start align-items-start flex-column">
                        <table class="table text-center">
                            <tbody style="width:100%;">
                                <thead>
                                    <tr class="row">
                                        <th class="col-6">상담</th>
                                        <th class="col-1">반</th>
                                        <th class="col-3">원생</th>
                                        <th class="col-2">상세</th>
                                    </tr>
                                    <tr class="row">
                                        <th class="col-2">종류</th>
                                        <th class="col-2">제목</th>
                                        <th class="col-2">상담일</th>
                                        <th class="col-1">명</th>
                                        <th class="col-2">이름</th>
                                        <th class="col-1">원번</th>
                                        <th class="col-1">확인</th>
                                        <th class="col-1">삭제</th>
                                    </tr>
                                </thead>
                                <tr class="row" id="consulting_history_student_list">

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="d-flex justify-content-center align-items-center w-100">
                        <div id="consulting_history_student_list_pagination" class="py-5"></div>
                    </div>
                </div>
                <div id="consulting_history_box_detail">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" style="display: block;" />
                </div>
            </div>
        </div>
    </div>
</div>

<!--원생목록-->
<div class="modal fade" id="ban_student_list" tabindex="-1" aria-labelledby="ban_student_listModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl" style="max-width:90%">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="ban_student_listModalLabelt">
                    <img src="https://purpleacademy.net/free_project/public/image/answer-a-question.png"
                        style="width: 30px; margin-bottom: 2px;">&nbsp;&nbsp;원생 목록
                </h5>
                <button type="button" class="btn btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <h3 class="h_title" id="h_title_msg">원생 정보가 없습니다! 😂</h3>
                <div id="ban_student_list_box">
                    <div class="my-4 d-flex flex-wrap justify-content-end align-items-center" id="ban_student_list_bansel_box" style="display:none"> 
                        <div class="col-lg-2 col-md-3 col-sm-4 col-12 pb-3 pb-sm-0" style="margin-left:50%;"><span>📌 원생 검색</span></div>
                        <div class="col-md-4 col-sm-6 col-12">
                            <input type="text" id="student_list_search_input" placeholder="원생 이름 혹은 원번으로 검색" style="width:100%;height:2em;margin-bottom:10px;">
                        </div>
                        <div class="col-lg-2 col-md-3 col-sm-4 col-12 pb-3 pb-sm-0" style="margin-left:50%;"><span>📌 관리중인 원생</span></div>
                        <div class="col-md-4 col-sm-6 col-12">
                            <label><input type="radio" name="is_out" value="none" checked>전체</label>
                            <label><input type="radio" name="is_out" value=0 > 관리중인 원생만 보기</label>
                            <label><input type="radio" name="is_out" value=1> 하차한 원생만 보기</label>
                        </div>
                    </div>
                    <div class="d-flex justify-content-start align-items-start flex-column">
                        <table class="table text-center">
                            <tbody style="width:100%;">
                                <thead>
                                    <tr class="row">
                                        <th class="col-6" onclick="sort_option('name_desc')" id="ban_sort">원생 (이름순 정렬👉)</th>
                                        <th class="col-3" onclick="sort_option('ul_desc')" id="uconsulting_sort">미학습 (미학습 건 정렬👉)</th>
                                        <th class="col-3" onclick="sort_option('consulting_desc')" id="dconsulting_sort">상담 (상담 건 정렬👉)</th>
                                    </tr>
                                    <tr class="row">
                                        <th class="col-2">이름</th>
                                        <th class="col-1">원번</th>
                                        <th class="col-1">생년월일</th>
                                        <th class="col-2">연락처</th>
                                        <th class="col-3">누적 발생 건수</th>
                                        <th class="col-1">진행 건수</th>
                                        <th class="col-2">상담 기록 및 추가 상담 진행</th>
                                    </tr>
                                </thead>
                                <tr class="row" id="ban_student_info">

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="d-flex justify-content-center align-items-center w-100">
                        <div id="ban_student_list_pagination" class="py-5"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 상담 일지 작성 모달-->
<div class="modal fade" id="consultinghistory" tabindex="-1" aria-labelledby="consultinghistoryModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl modal-handling" style="max-width:90%">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="consultinghistoryModalLabelt">
                    <img src="#" style="width: 30px;">&nbsp;&nbsp;상담일지 작성
                </h5>
                <button type="button" class="btn btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body py-4 px-5">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" style="display: block;" />
                <div class="mo_inloading" class="loader loader--style2 text-center" title="1">
                    <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
                        <path fill="#000" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z">
                            <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"/>
                        </path>
                    </svg>
                </div>
                <!-- <div class="modal_top_head" style="width:100%; max-width:1000px; position:fixed;"> -->
                    <!-- <div id="modal_top" style="position:fixed;font-size:30px; color:#fff; text-shadow:rgba(0, 0, 0, 0.3) 1px 1px 2px, rgba(0, 0, 0, 0.3) 0 0 10px" onclick="get_consulting_history_by_cate(event)"><a href="#modal_top"><i class="fa fa-arrow-up"></i></a></div> -->
                <table class="table text-center monot_inloading">
                    <tbody style="width:100%;">
                        <tr class="row tagtagtitle" id="student_info_box">
                            
                        </tr>
                        <tr class="row" id="student_consulting_info_box">
                        </tr>
                    </tbody>
                </table>
                <div id="consulting_contents_box_cate" class="student_report_button_box"></div>
                <div class="d-flex w-100">
                    <div class="w-50 d-flex flex-column pe-5 py-3 monot_inloading" >
                        <h3 id="sh_title_msg">상담 기록</h3>
                        <hr class='hr-dotted'/>
                        <div id="student_history_record_box">
                            <div class="my-4 d-flex flex-wrap justify-content-end align-items-center" id="consulting_history_category_box">
                                <div class="col-lg-3 col-md-4 col-sm-5 col-12 pb-3 pb-sm-0"><span>📌 상담 카테고리 선택</span></div>
                                <div class="col-md-4 col-sm-6 col-12">
                                    <select id="consulting_history_cate" class="form-select form-select w-100" aria-label="Default select example" onchange="sort_consulting_category(this.value)">
            
                                    </select>
                                </div>
                            </div>
                            <div class="d-flex justify-content-start align-items-start flex-column">
                                <table class="table text-center">
                                    <tbody style="width:100%;">
                                        <thead>
                                            <tr class="row">
                                                <th class="col-11">상담</th>
                                                <th class="col-1">상세</th>
                                            </tr>
                                            <tr class="row">
                                                <th class="col-2">종류</th>
                                                <th class="col-2">제목</th>
                                                <th class="col-2">상담일</th>
                                                <th class="col-4">내용</th>
                                                <th class="col-1">확인</th>
                                                <th class="col-1">삭제</th>
                                            </tr>
                                        </thead>
                                        <tr class="row" id="consultinghistory_list">

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="d-flex justify-content-center align-items-center w-100">
                                <div id="consultinghistory_list_pagination" class="py-5"></div>
                            </div>
                        </div>
                        <div id="studentconsulting_history_box_detail">
                        </div>
                    </div>
                    <div class="w-50 d-flex flex-column ps-5 py-3 monot_inloading"id="student_consulting_box">
                        <h3>상담일지 작성</h3>
                        <div id="consulting_write_box">
                            <div id="consulting_contents_box_cate" class="student_report_button_box"></div>
                        </div>
                        <div id="make_plus_consulting">
                            <div class="make_row">
                            <h3 >추가 상담 진행</h3>
                            <button class="btn btn-danger" onclick="cancel_back()" style="margin-top: 0px;margin-bottom: 0px;">추가 취소</button>
                            </div>
                            <div class="modal-body-select-container" >
                                <div class="modal-body-select-label" style="width:fit-content;"><span class="modal-body-select-container-span" style="padding:6px 12px;"> 상담 종류 </span></div>
                            </div>
                            <select id="consulting_cate" class="form-select form-select w-100" aria-label="Default select example">
                            </select>
                            <div class="modal-body-select-container" >
                                <div class="modal-body-select-label" style="width:fit-content;"><span class="modal-body-select-container-span" style="padding:6px 12px;"> 상담 사유 </span></div>
                            </div>
                            <input class="modal-body-select w-100 m-3" type="text" id="plus_consulting_reason" style="width: 75%;" placeholder="원생의 상담 사유, 사연을 입력해 주세요">
                            <div class="modal-body-select-container" >
                                <div class="modal-body-select-label" style="width:fit-content;"><span class="modal-body-select-container-span" style="padding:6px 12px;">제공한 가이드</span></div>
                            </div>
                            <textarea class="modal-body-select w-100 m-3" type="text" rows="5" cols="25" id="plus_consulting_solution" style="width: 75%;" placeholder="가이드를 입력해 주세요"></textarea>         
                        </div>
                        <div  id="postconsulting_buttonbox"></div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>

<div class="container_box">
    <div id="user-info" class="border-bottom">
        <div class="d-flex justify-content-center flex-xl-row row-cols-xl-2 flex-column-reverse">
            <div class="p-xxl-5 p-xl-4 p-1 pb-4">
                <div class="d-flex justify-content-between flex-row h-100">
                    <!-- <button onclick="edit_personal_info()">정보 수정</button> -->
                    <div class="question-btn-container">
                        <div class="question-btn head-office-question-btn" data-bs-toggle="modal"
                            data-bs-target="#question">
                            <img src="https://purpleacademy.net/free_project/public/image/head-office-question-btn.png">
                        </div>
                        <span class="question-label">본원 문의</span>
                    </div>
                    <div class="question-btn-container" onclick="get_question_list()">
                        <div class="question-btn answer-a-question" data-bs-toggle="modal"
                            data-bs-target="#question_list">
                            <img src="https://purpleacademy.net/free_project/public/image/answer-a-question.png">
                        </div>
                        <span class="question-label">문의 답변</span>
                    </div>
                    <div class="question-btn-container" data-bs-toggle="modal" data-bs-target="#consulting_history_list"
                        onclick="get_consulting_history()">
                        <div class="question-btn show-last-counsulting">
                            <img src="https://purpleacademy.net/free_project/public/image/show-last-counsulting.png">
                        </div>
                        <span class="question-label">상담 기록</span>
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-start align-items-center p-xxl-5 p-xl-4 py-3">
                <div class="user-detail">
                    <div class="user-detail-deco"></div>
                    <div class="user-name">
                        <div class="d-flex justify-content-center align-items-center flex-column">
                            <span>{{ user['name'] }}({{ user['eng_name'] }}) 선생님 안녕하세요.</span>
                            <div class="mt-2">
                                <a href="#" class="me-1" data-bs-toggle="modal" data-bs-target="#sign-out">
                                    <i class="fas fa-sign-out-alt text-danger fa-lg fs-5"></i>
                                </a>
                                <a href="#" class="ms-1" data-bs-toggle="modal" data-bs-target="#put_my">
                                    <i class="fa-solid fa-gear text-primary fa-lg fs-5"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="user-contact">
                        <div class="mt-2">
                            <i class="fa-regular fa-envelope"></i>
                            <span>&nbsp;&nbsp;{{ user['email'] }}</span>
                        </div>
                        <div class="mt-3">
                            <i class="fa-solid fa-mobile-screen-button"></i>
                            <span>&nbsp;&nbsp;{{ user['mobileno'] }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center row-cols-xl-2 flex-xl-row flex-column">
        <div id="statistics" class="p-xxl-5 p-xl-4 p-1 py-4">
            <div class="info-container">
                <div class="info-title">
                    <span>Total Chart</span>
                </div>
                <div class="info make_col" id="ban_chart_list">
                    <div class="loader loader--style2" title="1">
                        <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px"
                            viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
                            <path fill="#000"
                                d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z">
                                <animateTransform attributeType="xml" attributeName="transform" type="rotate"
                                    from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite" />
                            </path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div id="work" class="p-xxl-5 p-xl-4 p-1 py-4">
            <div class="info-container">
                <div class="info-title">
                    <span>Total Report</span>
                </div>
                <div class="info">
                    <div class="total_table" style="width:90%">
                        <table class="table text-center" id="unlearned">
                            <tbody style="width:100%;">
                                <tr class="row">
                                    <th class="col-3">오늘의 업무</th>
                                    <th class="col-3">완수율</th>
                                    <th class="col-3"> 미학습 관리 </th>
                                    <th class="col-3">완수율</th>
                                </tr>
                                <tr id="classreport" class="row">
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="info-container mt-5">
                <div class="info-title">
                    <span id="task_title">오늘의 업무</span>
                </div>
                <div class="info d-flex justify-content-center align-items-center flex-column">
                    <div class="d-flex justify-content-between flex-row w-100 pb-4 border-bottom">
                        <h5 class="d-flex justify-content-center align-items-center m-0" id="taskconsulting_title">본원 요청 업무</h3>
                    </div>
                    <div class="responsive-table-wrapper d-flex justify-content-start align-items-start flex-column w-100 mt-4" id="taskconsulting_student_list">
                        <table class="table text-center responsive-table" id="taskconsulting_cate_menu">
                            
                        </table>
                    </div>
                    <div class="d-flex justify-content-center align-items-center w-100">
                        <div id="taskconsultingstudent_pagination" class="mt-4 mb-5 text-center"></div>
                    </div>
                    <div class="d-flex justify-content-between flex-row w-100 pb-4 border-bottom">
                        <h5 class="d-flex justify-content-center align-items-center m-0" id="tasktitlebox">반 업무</h3>
                    </div>
                    <div
                        class="responsive-table-wrapper d-flex justify-content-start align-items-start flex-column w-100 mt-4">
                        <table class="table text-center responsive-table" id="cate_menu">

                        </table>
                    </div>
                    <button onclick="get_update_done()" id="task_button" class="btn btn-success mt-4">업무 완료 저장</button>
                </div>
            </div>
            <div class="info-container mt-5">
                <div class="info-title">
                    <span>미학습자 목록</span>
                </div>
                <div class="info d-flex justify-content-center align-items-center flex-column">
                    <div class="d-flex justify-content-between flex-row w-100 pb-4 border-bottom">
                        <h5 class="d-flex justify-content-center align-items-center m-0" id="today_consulting_title">
                            미학습 상담 목록
                        </h5>
                        <select class="form-select text-center w-25" onchange="get_unlearned_consulting_student(this.value)">
                            <option value=0 selected>미학습 상담 목록</option>
                            <option value=1>오늘의 부재중 상담</option>
                        </select>
                    </div>
                    <div class="responsive-table-wrapper w-100 mt-4" id="consulting_student_list">
                        <input type="text" id="consultingstudent_search_input" placeholder="반 , 원생 이름 혹은 원번으로 검색" style="float:right;width:350px;height:40px;margin-bottom:10px">
                        <table class="table text-center responsive-table" id="today_consulting_table">
                            <thead>
                                <tr class="row">
                                    <th class="col-2" onclick="sort_consultingoption('ban_desc')" id="ban_name_sort">반 이름순 정렬👉</th>
                                    <th class="col-6" onclick="sort_consultingoption('name_desc')" id="student_name_sort">원생 이름순 정렬👉</th>
                                    <th class="col-2" onclick="sort_consultingoption('deadline_desc')" id="deadline_sort">마감일 정렬👉</th>
                                    <th class="col-2" onclick="sort_consultingoption('consulting_desc')" id="consulting_sort">상담 건 정렬👉</th>
                                </tr>
                                <tr class="row">
                                    <th class="col-2">반</th>
                                    <th class="col-2">이름</th>
                                    <th class="col-2">생년월일</th>
                                    <th class="col-2">연락처</th>
                                    <th class="col-2">상담 마감일</th>
                                    <th class="col-1">상담 수</th>
                                    <th class="col-1">상담</th>
                                </tr>
                            </thead>
                            <tr class="row" id="today_consulting_box">
                    
                            </tr>
                        </table>
                    </div>
                    <div class="d-flex justify-content-center align-items-center w-100">
                        <div id="consultingstudent_pagination" class="mt-4 mb-5 text-center"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    {% block jspart %}
    <script type="text/javascript" src="../static/js/teacher.js"></script>
    {% endblock %}

{% endautoescape %}
{% endblock %}